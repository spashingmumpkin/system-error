<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SYSTEM_COMPROMISED</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');


:root {
    --sage-bg: #d1d9cf;
    --sage-dark: #7a8d75;
    --sage-text: #4a5d45;
    --hacker-green: #00ff41;
}

body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Press Start 2P', cursive;
    overflow: hidden;
}

/* Fullscreen Screens */
.screen {
    position: fixed;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 40px;
    font-size: 12px;
}

/* Hack Screen */
#error-screen { background: black; color: red; }
#fix-screen { display: none; background: black; color: var(--hacker-green); }

/* Sage Theme */
.sage { background: var(--sage-bg); color: var(--sage-text); }

/* Cursor */
.cursor {
    display: inline-block;
    width: 10px;
    animation: blink 1s infinite;
}
@keyframes blink { 0%,100% {opacity:1;} 50% {opacity:0;} }

/* UI */
#ui-container {
    display: none;
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

h1 { font-size: 12px; line-height: 1.8; }

.buttons { display: flex; gap: 20px; margin-top: 30px; visibility: hidden; }

.btn {
    font-family: 'Press Start 2P', cursive;
    padding: 14px 18px;
    font-size: 9px;
    cursor: pointer;
    border: 3px solid var(--sage-text);
    background: var(--sage-dark);
    color: #d1d9cf;
    box-shadow: 4px 4px 0px var(--sage-text);
    transition: 0.15s;
}
.btn:hover { transform: translateY(-3px); }
.btn:active { transform: scale(1.2); }

.yes-animate { animation: pulse 0.8s infinite; }
@keyframes pulse { 0%{transform:scale(1);} 50%{transform:scale(1.15);} 100%{transform:scale(1);} }

.guilt-box {
    position: fixed;
    background: var(--sage-bg);
    border: 2px solid var(--sage-dark);
    padding: 8px;
    font-size: 8px;
    animation: shake 0.1s infinite alternate;
}
@keyframes shake {
    0% { transform: translate(2px, 2px); }
    25% { transform: translate(-2px, -2px); }
    50% { transform: translate(2px, -2px); }
    75% { transform: translate(-2px, 2px); }
    100% { transform: translate(0px, 0px); }
}


/* ================= FINAL SCREEN UPGRADE ================= */

#final-screen {
    display: none;
    overflow: hidden;
    position: relative;
    background: url("13.png") center/cover no-repeat;
}

/* Soft overlay so text is readable */
#final-screen::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.35);
    z-index: 0;
}

/* Make letter box appear above overlay */
.letter-box {
    background: #f4f7f3;
    border: 4px solid var(--sage-dark);
    padding: 40px;
    max-width: 700px;
    box-shadow: 8px 8px 0px var(--sage-dark);
    line-height: 1.8;
    font-size: 10px;
    position: relative;
    z-index: 2;
    animation: popIn 0.8s cubic-bezier(.17,.67,.32,1.27);
}

/* Cute Sage Letter Box */
.letter-box {
    background: #f4f7f3;
    border: 4px solid var(--sage-dark);
    padding: 40px;
    max-width: 700px;
    box-shadow: 8px 8px 0px var(--sage-dark);
    line-height: 1.8;
    font-size: 10px;
    position: relative;
    z-index: 2;
    animation: popIn 0.8s ease-out;
}

.letter-box h2 {
    margin-bottom: 20px;
    font-size: 14px;
}

.restart-btn {
    margin-top: 25px;
    padding: 12px 18px;
    font-family: 'Press Start 2P', cursive;
    font-size: 8px;
    cursor: pointer;
    border: 3px solid var(--sage-text);
    background: var(--sage-dark);
    color: white;
    box-shadow: 4px 4px 0px var(--sage-text);
    transition: all 0.25s ease;
}

.restart-btn:hover {
    transform: translateY(-4px);
    box-shadow: 6px 6px 0px var(--sage-text);
}

.restart-btn:active {
    transform: translateY(2px) scale(0.95);
    box-shadow: 2px 2px 0px var(--sage-text);
}

.restart-btn.clicked {
    animation: restartBounce 0.4s ease;
}


/* Hover lift */
.restart-btn:hover {
    transform: translateY(-4px);
    box-shadow: 6px 6px 0px var(--sage-text);
}

/* Click press effect */
.restart-btn:active {
    transform: translateY(2px) scale(0.95);
    box-shadow: 2px 2px 0px var(--sage-text);
}

/* Click animation */
.restart-btn.clicked {
    animation: restartBounce 0.4s ease;
}

@keyframes restartBounce {
    0%   { transform: scale(1); }
    30%  { transform: scale(1.3) rotate(-5deg); }
    60%  { transform: scale(0.9) rotate(5deg); }
    100% { transform: scale(1); }
}


@keyframes popIn {
    from { transform: scale(0); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

/* Sakura Petals */
.petal {
    position: fixed;
    top: -10px;
    width: 14px;
    height: 14px;
    background: #cf3547;
    border-radius: 50% 50% 50% 0;
    opacity: 0.8;
    animation: fall linear infinite;
    z-index: 1;
}

@keyframes fall {
    0% { transform: translateY(-10px) rotate(0deg); }
    100% { transform: translateY(110vh) rotate(360deg); }
}

</style>
</head>
<body>

<div id="error-screen" class="screen"></div>
<div id="fix-screen" class="screen"></div>
<div id="intro-screen" class="screen sage" style="display:none;"></div>

<div id="ui-container">
    <h1 id="main-text"></h1>
    <div class="buttons" id="btn-wrapper">
        <button class="btn" id="leftBtn">NO</button>
        <button class="btn" id="rightBtn">NO</button>
    </div>
</div>

<div id="sus-screen" class="screen sage" style="display:none;"></div>
<div id="fine-screen" class="screen sage" style="display:none;"></div>
<div id="chase-screen" class="screen sage" style="display:none; position:relative;"></div>


<!-- FINAL SCREEN -->
<div id="final-screen" class="screen sage">
    <div class="letter-box">
        <h2>HAPPY VALENTINES DAY! </h2>
        <p>
        hai bubby i hope u like dis smol sorprayz and i hope this made u feel extra loved todei since it's valentines. my ultimate sayen wish is sana magkasama na tayo soon T_T. but eon im still glad we get to celebrate valentines this year as gfs!! funny ahh lang last yr may pa swap pa tayo ng retlet na nalalaman HAHSDHJASH. anyway that's all. i lob u agen hindi lang bc it's valentines i lob u everyday <3
        </p>
        <button class="restart-btn" id="restartBtn">RESTART</button>
    </div>
</div>

<script>
const errorScreen = document.getElementById("error-screen");
const fixScreen = document.getElementById("fix-screen");
const introScreen = document.getElementById("intro-screen");
const ui = document.getElementById("ui-container");
const mainText = document.getElementById("main-text");
const btnWrapper = document.getElementById("btn-wrapper");
const leftBtn = document.getElementById("leftBtn");
const rightBtn = document.getElementById("rightBtn");
const susScreen = document.getElementById("sus-screen");
const fineScreen = document.getElementById("fine-screen");
const chaseScreen = document.getElementById("chase-screen");
const finalScreen = document.getElementById("final-screen");

let attempts = 0;
let chaseCount = 0;

function typeWriter(element, text, speed=40){
    return new Promise(resolve=>{
        element.innerHTML="";
        let i=0;
        const cursor=document.createElement("span");
        cursor.className="cursor";
        cursor.innerText="|";
        element.appendChild(cursor);

        const interval=setInterval(()=>{
            cursor.remove();
            element.innerHTML+=text.charAt(i);
            element.appendChild(cursor);
            i++;
            if(i>=text.length){
                clearInterval(interval);
                resolve();
            }
        },speed);
    });
}

async function start(){
    await typeWriter(errorScreen,"!!! SYSTEM BREACH DETECTED !!!");
    await typeWriter(errorScreen,"\nInjecting malicious code...");
    await typeWriter(errorScreen,"\nUnauthorized access in progress...");
    await new Promise(r=>setTimeout(r,1500));
    errorScreen.style.display="none";

    fixScreen.style.display="flex";
    await typeWriter(fixScreen,"Rebuilding system files...");
    await typeWriter(fixScreen,"\nRestoring system integrity...");
    await typeWriter(fixScreen,"\nPatch complete âœ“");
    await new Promise(r=>setTimeout(r,1500));
    fixScreen.style.display="none";

    introScreen.style.display="flex";
    await typeWriter(introScreen,"hi bubby! what r u doing here?");
    await new Promise(r=>setTimeout(r,1000));
    introScreen.style.display="none";

    ui.style.display="flex";
    await typeWriter(mainText,"anyway i was wondering if i could be ur valentines date today... can i?");
    btnWrapper.style.visibility="visible";
}

start();

function splatterGuilt(){
    attempts++;
    mainText.innerText="u hate me T___T";
    for(let i=0;i<6;i++){
        const box=document.createElement("div");
        box.innerText="u hate me";
        box.className="guilt-box";
        box.style.left=Math.random()*80+"vw";
        box.style.top=Math.random()*80+"vh";
        document.body.appendChild(box);
    }
    if(attempts>=3){
        leftBtn.innerText="YES";
        leftBtn.classList.add("yes-animate");
        mainText.innerText="dali na !! korni mo !!";
    }
}
rightBtn.onclick=splatterGuilt;

leftBtn.onclick=async()=>{
    if(attempts<3){ splatterGuilt(); return; }

    document.querySelectorAll(".guilt-box").forEach(box=>box.remove());
    ui.style.display="none";

    susScreen.style.display="flex";
    await typeWriter(susScreen,"sus !! baka napilitan ka lang...");
    await new Promise(r=>setTimeout(r,8000));
    susScreen.style.display="none";

    fineScreen.innerHTML="";
    fineScreen.style.display="flex";

    const fineBtn=document.createElement("button");
    fineBtn.className="btn";
    fineBtn.innerText="...";
    fineScreen.appendChild(fineBtn);

    fineBtn.onclick=()=>{ fineScreen.style.display="none"; startChase(); };
};

function startChase(){
    chaseScreen.style.display="flex";
    chaseScreen.innerHTML="";
    chaseCount=0;

    const btn=document.createElement("button");
    btn.className="btn";
    btn.innerText="click me";
    btn.style.position="absolute";
    chaseScreen.appendChild(btn);
    btn.style.left="40%";
    btn.style.top="40%";

    btn.onclick=()=>{
        chaseCount++;
        if(chaseCount>=4){
            chaseScreen.style.display="none";
            showFinal();
        } else {
            btn.style.left=Math.random()*80+"%";
            btn.style.top=Math.random()*80+"%";
        }
    };
}

/* Sakura petals */
function createPetal(){
    const petal=document.createElement("div");
    petal.className="petal";
    petal.style.left=Math.random()*100+"vw";
    petal.style.animationDuration=(6+Math.random()*4)+"s";
    document.body.appendChild(petal);
    setTimeout(()=>petal.remove(),10000);
}

function showFinal(){
    finalScreen.style.display="flex";
    setInterval(createPetal,300);
}

const restartBtn = document.getElementById("restartBtn");

restartBtn.onclick = () => {
    restartBtn.classList.add("clicked");

    setTimeout(() => {
        location.reload();
    }, 400);
};

</script>
</body>
</html>
